"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è Telegram-–±–æ—Ç–∞ –∫—É—Ä—å–µ—Ä—Å–∫–æ–π —Å–ª—É–∂–±—ã.

–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–í–ê–ñ–ù–û: –ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env —Å –≤–∞—à–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!
"""

import os
from typing import Dict, List
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ .env
load_dotenv()

# =============================================================================
# –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê
# =============================================================================

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
BOT_TOKEN = os.getenv('BOT_TOKEN')
if not BOT_TOKEN:
    raise ValueError("BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω! –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω")

# –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite
DATABASE_URL = os.getenv('DATABASE_URL', 'sqlite+aiosqlite:///courier_bot.db')

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ú–ê–†–®–†–£–¢–û–í
# =============================================================================

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ –Ø—Ä–æ—Å–ª–∞–≤–ª—è
AVAILABLE_ROUTES: Dict[str, List[Dict]] = {
    "–í–æ–ª–æ–≥–¥–∞": [
        {
            "name": "–ö–î–õ –í–æ–ª–æ–≥–¥–∞",
            "address": "—É–ª. –ú–∏—Ä–∞, 15, –í–æ–ª–æ–≥–¥–∞",
            "organization": "–ö–î–õ",
            "coordinates": (59.2239, 39.8840)
        },
        {
            "name": "–•–æ–≤–µ—Ä –í–æ–ª–æ–≥–¥–∞", 
            "address": "–ø—Ä. –ü–æ–±–µ–¥—ã, 42, –í–æ–ª–æ–≥–¥–∞",
            "organization": "–•–æ–≤–µ—Ä",
            "coordinates": (59.2078, 39.8958)
        },
        {
            "name": "–î–∞—Ä—Ç–∏—Å –í–æ–ª–æ–≥–¥–∞",
            "address": "—É–ª. –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è, 120, –í–æ–ª–æ–≥–¥–∞", 
            "organization": "–î–∞—Ä—Ç–∏—Å",
            "coordinates": (59.2181, 39.8947)
        }
    ],
    "–ò–≤–∞–Ω–æ–≤–æ": [
        {
            "name": "–ö–î–õ –ò–≤–∞–Ω–æ–≤–æ",
            "address": "—É–ª. 8 –ú–∞—Ä—Ç–∞, 32, –ò–≤–∞–Ω–æ–≤–æ",
            "organization": "–ö–î–õ", 
            "coordinates": (56.9991, 40.9731)
        },
        {
            "name": "–•–æ–≤–µ—Ä –ò–≤–∞–Ω–æ–≤–æ",
            "address": "—É–ª. –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è, 8, –ò–≤–∞–Ω–æ–≤–æ",
            "organization": "–•–æ–≤–µ—Ä",
            "coordinates": (57.0000, 40.9811)
        }
    ],
    "–ö–æ—Å—Ç—Ä–æ–º–∞": [
        {
            "name": "–ö–î–õ –ö–æ—Å—Ç—Ä–æ–º–∞", 
            "address": "–ø—Ä. –ú–∏—Ä–∞, 144, –ö–æ—Å—Ç—Ä–æ–º–∞",
            "organization": "–ö–î–õ",
            "coordinates": (57.7665, 40.9265)
        },
        {
            "name": "–î–∞—Ä—Ç–∏—Å –ö–æ—Å—Ç—Ä–æ–º–∞",
            "address": "—É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 95, –ö–æ—Å—Ç—Ä–æ–º–∞",
            "organization": "–î–∞—Ä—Ç–∏—Å", 
            "coordinates": (57.7648, 40.9276)
        }
    ]
}

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –î–û–°–¢–ê–í–ö–ò –í –ú–û–°–ö–í–£  
# =============================================================================

# –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –ú–æ—Å–∫–≤–µ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
MOSCOW_DELIVERY_ADDRESSES: Dict[str, Dict] = {
    "–ö–î–õ": {
        "address": "—É–ª. –ü—Ä–æ—Ñ—Å–æ—é–∑–Ω–∞—è, 86, –ú–æ—Å–∫–≤–∞",
        "contact": "+7 495 123-45-67",
        "working_hours": "09:00-18:00"
    },
    "–•–æ–≤–µ—Ä": {
        "address": "–õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä., 37, –ú–æ—Å–∫–≤–∞", 
        "contact": "+7 495 987-65-43",
        "working_hours": "08:00-20:00"
    },
    "–î–∞—Ä—Ç–∏—Å": {
        "address": "—É–ª. –ù–æ–≤—ã–π –ê—Ä–±–∞—Ç, 24, –ú–æ—Å–∫–≤–∞",
        "contact": "+7 495 555-12-34", 
        "working_hours": "10:00-19:00"
    }
}

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –°–ò–°–¢–ï–ú–´
# =============================================================================

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
MAX_PHOTO_UPLOAD_ATTEMPTS = 3

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
USER_RESPONSE_TIMEOUT = 300  # 5 –º–∏–Ω—É—Ç

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–æ–±–æ–∫
MIN_BOXES = 1
MAX_BOXES = 999

# –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞ (Telegram ID)
ADMIN_IDS = [
    123456789,  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Telegram ID
    987654321   # ID –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –µ—Å–ª–∏ –µ—Å—Ç—å
]

# =============================================================================
# –¢–ï–ö–°–¢–û–í–´–ï –°–û–û–ë–©–ï–ù–ò–Ø
# =============================================================================

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
WELCOME_MESSAGE = """
üöö <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –∫—É—Ä—å–µ—Ä—Å–∫–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏!</b>

–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º:
‚Ä¢ –í—ã–±—Ä–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Å–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤
‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∞–¥—Ä–µ—Å–∞–º  
‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç–Ω—ã–µ –ª–∏—Å—Ç—ã –≤ –ú–æ—Å–∫–≤—É

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–º–∏—Ç–µ <b>–í—ã–±—Ä–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç</b>
"""

HELP_MESSAGE = """
üìã <b>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞:</b>

1Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
2Ô∏è‚É£ –ü—Ä–æ—Ö–æ–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å–∞–º –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ  
3Ô∏è‚É£ –ù–∞ –∫–∞–∂–¥–æ–º –∞–¥—Ä–µ—Å–µ —Å–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
4Ô∏è‚É£ –£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ—Ä–æ–±–æ–∫
5Ô∏è‚É£ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"

‚ùóÔ∏è <b>–í–∞–∂–Ω–æ:</b> –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–¥—Ä–µ—Å—É –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ –∏ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ—Ä–æ–±–æ–∫!
"""

# –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
ERROR_MESSAGES = {
    "invalid_photo": "‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",
    "invalid_boxes_count": f"‚ùå –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–æ–±–æ–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç {MIN_BOXES} –¥–æ {MAX_BOXES}",
    "route_not_selected": "‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç!",
    "photo_required": "üì∏ –°–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é —Å –º–µ—Å—Ç–∞ –∑–∞–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–∞",
    "access_denied": "‚ùå –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏"
}